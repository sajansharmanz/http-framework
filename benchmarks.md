# Benchmarks

I ran these benchmarks on a Macbook Air 2022, M2 Processor with 8GB ram.

## Test Script

npx autocannon -d 30 -c 1000 [endpoint]

## This Framework

### App Setup

```js
import { App } from 'http-framework'

const app = new App()

app.get('/', {}, (req, res) => {
  req.end()
})

app.listen(3000)
```

### App Results

┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬───────┐
│ Stat │ 2.5% │ 50% │ 97.5% │ 99% │ Avg │ Stdev │ Max │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼───────┤
│ Latency │ 0 ms │ 0 ms │ 0 ms │ 1 ms │ 0.03 ms │ 0.16 ms │ 13 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴───────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬────────────┬──────────┬─────────┐
│ Stat │ 1% │ 2.5% │ 50% │ 97.5% │ Avg │ Stdev │ Min │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Req/Sec │ 111,039 │ 111,039 │ 117,695 │ 118,143 │ 117,348.27 │ 1,259.57 │ 111,021 │
├───────────┼─────────┼─────────┼─────────┼─────────┼────────────┼──────────┼─────────┤
│ Bytes/Sec │ 10.2 MB │ 10.2 MB │ 10.8 MB │ 10.9 MB │ 10.8 MB │ 116 kB │ 10.2 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴────────────┴──────────┴─────────┘

Req/Bytes counts sampled once per second.

# of samples: 30

3521k requests in 30.01s, 324 MB read

---

## ExpressJS

### App Setup

```js
const express = require('express')

const app = express()

app.get('/', (req, res) => {
  res.end()
})

app.listen(3001)
```

### App Results

┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬────────┐
│ Stat │ 2.5% │ 50% │ 97.5% │ 99% │ Avg │ Stdev │ Max │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼────────┤
│ Latency │ 3 ms │ 3 ms │ 5 ms │ 5 ms │ 3.24 ms │ 0.98 ms │ 198 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬───────────┬─────────┬─────────┐
│ Stat │ 1% │ 2.5% │ 50% │ 97.5% │ Avg │ Stdev │ Min │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼─────────┼─────────┤
│ Req/Sec │ 23,231 │ 23,231 │ 25,727 │ 25,823 │ 25,642.67 │ 451.25 │ 23,230 │
├───────────┼─────────┼─────────┼─────────┼─────────┼───────────┼─────────┼─────────┤
│ Bytes/Sec │ 3.37 MB │ 3.37 MB │ 3.73 MB │ 3.75 MB │ 3.72 MB │ 65.4 kB │ 3.37 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴───────────┴─────────┴─────────┘

Req/Bytes counts sampled once per second.

# of samples: 30

769k requests in 30.02s, 112 MB read
